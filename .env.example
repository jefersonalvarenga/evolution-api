# ============================================================
# EVOLUTION API - Variáveis de Ambiente
# Copie este arquivo para .env e preencha os valores
# ============================================================

# --- Servidor ---
# URL pública da sua VPS/domínio (sem barra no final)
SERVER_URL=https://evolution.seudominio.com
SERVER_PORT=8080

# --- Autenticação Global ---
# Chave de acesso principal da API
# Gere uma forte: openssl rand -hex 32
AUTHENTICATION_API_KEY=mude-esta-chave-forte-aqui
AUTHENTICATION_TYPE=apikey

# --- Banco de Dados (Supabase) ---
# Pegue em: Supabase → Settings → Database → Connection string → URI
# Troque [YOUR-PASSWORD] pela senha do banco
DATABASE_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# OU, se preferir PostgreSQL local (docker compose --profile local-db):
# DATABASE_URL=postgresql://evolution:senha@postgres:5432/evolution?schema=public

# --- Cache (Redis) ---
# Redis roda localmente no mesmo compose
REDIS_PASSWORD=mude-esta-senha-redis-aqui
CACHE_REDIS_URI=redis://:${REDIS_PASSWORD}@redis:6379/1
CACHE_REDIS_PREFIX_KEY=evolution
CACHE_REDIS_SAVE_INSTANCES=false
CACHE_LOCAL_TTL=300

# --- Storage ---
STORE_MESSAGES=true
STORE_MESSAGE_UP=true
STORE_CONTACTS=true
STORE_CHATS=true

# --- Webhook Global (n8n) ---
# Deixe vazio para configurar por instância individualmente
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Eventos enviados no webhook
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=false
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_MESSAGES_DELETE=false
WEBHOOK_EVENTS_SEND_MESSAGE=false
WEBHOOK_EVENTS_CONTACTS_SET=false
WEBHOOK_EVENTS_CONTACTS_UPSERT=false
WEBHOOK_EVENTS_CONTACTS_UPDATE=false
WEBHOOK_EVENTS_PRESENCE_UPDATE=false
WEBHOOK_EVENTS_CHATS_SET=false
WEBHOOK_EVENTS_CHATS_UPSERT=false
WEBHOOK_EVENTS_CHATS_UPDATE=false
WEBHOOK_EVENTS_CHATS_DELETE=false
WEBHOOK_EVENTS_GROUPS_UPSERT=false
WEBHOOK_EVENTS_GROUP_UPDATE=false
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=false
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_CALL=false
WEBHOOK_EVENTS_NEW_JWT_TOKEN=false

# --- Instâncias ---
DEL_INSTANCE=false
DEL_TEMP_INSTANCES=0

# --- QR Code ---
QRCODE_LIMIT=30
QRCODE_COLOR=#198754

# --- Log ---
LOG_LEVEL=ERROR
LOG_COLOR=true
LOG_BAILEYS=error

# --- Telemetria ---
TELEMETRY=false

# --- Somente se usar postgres local (profile local-db) ---
POSTGRES_DB=evolution
POSTGRES_USER=evolution
POSTGRES_PASSWORD=mude-esta-senha-forte-aqui
